# ================================
# Cliply Backend Environment Variables
# ================================
#
# This is a template for local development environment variables.
# 
# Quick Start:
#   1. Copy this file: cp .env.example .env.local
#   2. Fill in the required values (see ENV.md for detailed documentation)
#   3. For tests, also create .env.test (see TEST_ENV_SETUP.md)
#
# Documentation:
#   - Full guide: ENV.md
#   - Test setup: TEST_ENV_SETUP.md
#   - Schema: packages/shared/src/env.ts
#

# ================================
# Core Configuration
# ================================

# Node environment (development | test | production)
# Default: development
NODE_ENV=development

# Log sampling rate (0.0 to 1.0)  controls what percentage of logs are emitted
# Default: 1 (100% - all logs)
LOG_SAMPLE_RATE=1


# ================================
# Supabase (Required)
# ================================
# Get these from: Supabase Dashboard → Settings → API
# Required for both web and worker services

SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=


# ================================
# Next.js Public Variables (Client-Side)
# ================================
# These are exposed to the browser and must be prefixed with NEXT_PUBLIC_
# Note: NEXT_PUBLIC_SUPABASE_* should typically match the server-side values above

NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
NEXT_PUBLIC_APP_URL=
NEXT_PUBLIC_SENTRY_DSN=


# ================================
# Database (Optional)
# ================================
# Direct PostgreSQL connection URL
# Optional  most services use Supabase client instead

DATABASE_URL=


# ================================
# Stripe (Optional in local dev, Required in production)
# ================================
# Get these from: Stripe Dashboard → Developers → API Keys
# Required for billing and subscription features
# See ENV.md → "Stripe" section for more details

STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=


# ================================
# TikTok OAuth & Publishing (Optional)
# ================================
# Required for TikTok account connections and video publishing
# Get these from: TikTok for Developers → Your App → Credentials
# See ENV.md → "TikTok OAuth" section for setup guide

TIKTOK_CLIENT_ID=
TIKTOK_CLIENT_SECRET=
TIKTOK_OAUTH_REDIRECT_URL=
TIKTOK_TOKEN_URL=

# TikTok Token Encryption Key (REQUIRED if using TikTok features)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# This key encrypts TikTok OAuth tokens at rest in the database
TIKTOK_ENCRYPTION_KEY=

# Client-side redirect URL for TikTok OAuth flow
NEXT_PUBLIC_TIKTOK_REDIRECT_URL=


# ================================
# YouTube/Google OAuth & Publishing (Optional)
# ================================
# Required for YouTube account connections and video publishing
# Get these from: Google Cloud Console → APIs & Services → Credentials
# See ENV.md → "YouTube/Google OAuth" section for setup guide

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
YOUTUBE_OAUTH_REDIRECT_URL=


# ================================
# AI Services (Optional)
# ================================
# External AI APIs for transcription and content generation

# OpenAI API key for GPT-based features
OPENAI_API_KEY=

# Deepgram API key for audio transcription
DEEPGRAM_API_KEY=


# ================================
# Sentry (Optional)
# ================================
# Error monitoring and performance tracking
# Get DSN from: Sentry Dashboard → Settings → Projects → Your Project
# See SENTRY_SETUP.md for configuration details

SENTRY_DSN=


# ================================
# Worker Configuration (Optional)
# ================================
# Fine-tune worker job processing behavior
# These are optional  worker uses sensible defaults if not set
# See ENV.md → "Worker Configuration" section

# Worker polling interval in milliseconds (how often to check for new jobs)
WORKER_POLL_MS=

# Worker heartbeat interval in milliseconds (how often to update worker status)
WORKER_HEARTBEAT_MS=

# Worker job reclaim interval in milliseconds (how often to reclaim stale jobs)
WORKER_RECLAIM_MS=

# Seconds before a job is considered stale and can be reclaimed
WORKER_STALE_SECONDS=


# ================================
# Cron & Automation (Optional)
# ================================
# Required for scheduled tasks (e.g., scheduled publishing via Vercel Cron)
# CRON_SECRET is auto-generated by Vercel in production

CRON_SECRET=

# Secret for bypassing Vercel protection during testing (internal use only)
VERCEL_AUTOMATION_BYPASS_SECRET=


# ================================
# Test-Only Variables
# ================================
# The following variables are typically only set in .env.test (not .env.local)
# They are listed here for completeness but should be configured separately
# See TEST_ENV_SETUP.md for detailed test environment setup
#
# Note: Most test env vars are the same as above (e.g., SUPABASE_URL)
# but may point to a test project or local Supabase instance
